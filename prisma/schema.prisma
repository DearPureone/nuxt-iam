generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  id                Int              @id @default(autoincrement())
  uuid              String           @unique(map: "uuid") @db.VarChar(60)
  email             String           @unique(map: "email") @db.VarChar(255)
  password          String           @db.VarChar(255)
  first_name        String           @db.VarChar(255)
  last_name         String           @db.VarChar(255)
  role              Role             @default(GENERAL)
  password_verified Boolean          @default(false)
  last_login        DateTime?        @db.DateTime(0)
  date_created      DateTime         @default(now()) @db.DateTime(0)
  refresh_tokens    refresh_tokens[]
}

enum Role {
  GENERAL
  ADMIN
}

model refresh_tokens {
  id           Int      @id @default(autoincrement())
  token_id     String   @unique(map: "token_id") @db.VarChar(60)
  user         users    @relation(fields: [user_id], references: [id])
  user_id      Int
  is_active    Boolean
  date_created DateTime @default(now()) @db.DateTime(0)
}
